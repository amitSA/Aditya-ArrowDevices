import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;


public class main {

	public static void main(String[] args) {
		ProblemMaker probMaker = new ProblemMaker();
		FunctionTester tester = new FunctionTester();
		ProblemSolver solver = new ProblemSolver();
		String fileName1 = "InputRand.txt", fileName2 = "InputPerc.txt";
		
		//////MODIFY THESE VALUES /////
		double percInDataSet = 1.0;   // this is the minimum percentage of targets that will be covered by tests 
		double percToFind = 0.8;      // this is the minimum amount of tests needed to cover *this percentage* of targets  
		int targetRange = 10000;      // targets will be to 1-THISVARIABLE
		int numTests = 1000;
		int maxEntriesPerTest = 10;   // tests can map to 1-THISVARIABLE targets
		////////////////////////////
		
		//probMaker.generateProblem(numTests,targetRange,maxEntriesPerTest,perc,fileName2);
		
		int [] targ = tester.totalTargetsCovered(fileName2);
		System.out.println(targ[0] + "/" + targ[1] + " targets covered");
		
		
		ArrayList<int[]> answerSet = solver.solveProblem(fileName2,perc);	
		
		System.out.println("");
		String s = "";
		if(answerSet == null)
			s += "The data set did not have enough elements to fill " + (perc*100) + "% of targets\n";
		else{
			s += "The tests which map to at least " + (perc*100) + "% of the targets are:\n\n";
			for(int [] a : answerSet)
				s += Arrays.toString(a) + "\n";
			s+="\nTotal of " + answerSet.size() + " sets printed";
		}	
		
		tester.writeToFile("solution.txt", s);
	}
	
	
	 
}

/*
 * HashMap<Integer,StringBuffer> map = new HashMap<Integer,StringBuffer>();
		StringBuffer buf = new StringBuffer("Trollololol");
		map.put(1,buf);
		System.out.println(map.get(1));*/
